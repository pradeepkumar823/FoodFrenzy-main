<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FoodFrenzy - Deliciousness Delivered</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
  </head>
  <body>
    <nav th:fragment="navbar()" class="navbar">
      <a href="/home" class="logo"> üçï FoodFrenzy </a>

      <button class="mobile-toggle" id="mobile-toggle">
        <i class="fa-solid fa-bars"></i>
      </button>

      <ul id="nav-menu">
        <li>
          <a
            th:href="@{/home}"
            th:class="${activePage == 'home' ? 'active' : ''}"
            >Home</a
          >
        </li>
        <li>
          <a
            th:href="@{/products}"
            th:class="${activePage == 'products' ? 'active' : ''}"
            >Products</a
          >
        </li>
        <li>
          <a
            th:href="@{/location}"
            th:class="${activePage == 'location' ? 'active' : ''}"
            >Locate Us</a
          >
        </li>
        <li>
          <a
            th:href="@{/about}"
            th:class="${activePage == 'about' ? 'active' : ''}"
            >About Us</a
          >
        </li>
        <!-- Check if user is logged in to toggle Login/Profile link effectively -->
        <li th:if="${session.loggedInUser == null}">
          <a th:href="@{/login}" class="btn-login">Log In</a>
        </li>
        <li th:if="${session.loggedInUser != null}">
          <a th:href="@{/profile}" class="btn-login">Profile</a>
        </li>
      </ul>

      <script>
        const mobileToggle = document.getElementById("mobile-toggle");
        const navMenu = document.getElementById("nav-menu");

        if (mobileToggle && navMenu) {
          mobileToggle.addEventListener("click", () => {
            navMenu.classList.toggle("active");
            const icon = mobileToggle.querySelector("i");
            if (navMenu.classList.contains("active")) {
              icon.classList.replace("fa-bars", "fa-xmark");
            } else {
              icon.classList.replace("fa-xmark", "fa-bars");
            }
          });

          // Close menu when clicking outside
          document.addEventListener("click", (e) => {
            if (
              !mobileToggle.contains(e.target) &&
              !navMenu.contains(e.target)
            ) {
              navMenu.classList.remove("active");
              mobileToggle
                .querySelector("i")
                .classList.replace("fa-xmark", "fa-bars");
            }
          });
        }
      </script>
    </nav>

    <footer th:fragment="footer" class="footer-pro">
      <div class="footer-grid">
        <div class="footer-col">
          <h4 class="logo" style="color: white; margin-bottom: 1rem">
            üçï FoodFrenzy
          </h4>
          <p>
            Delivering deliciousness since 2024. Your satisfaction is our
            primary recipe.
          </p>
        </div>
        <div class="footer-col">
          <h4>Quick Links</h4>
          <ul>
            <li><a th:href="@{/home}">Home</a></li>
            <li><a th:href="@{/products}">Menu</a></li>
            <li><a th:href="@{/about}">About Us</a></li>
            <li><a th:href="@{/location}">Locations</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Customer Care</h4>
          <ul>
            <li><a href="#">Help Center</a></li>
            <li><a href="#">Safety Policy</a></li>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Privacy Policy</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Follow Us</h4>
          <div style="display: flex; gap: 1rem; font-size: 1.5rem">
            <a href="#"><i class="fa-brands fa-facebook"></i></a>
            <a href="#"><i class="fa-brands fa-instagram"></i></a>
            <a href="#"><i class="fa-brands fa-twitter"></i></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>
          &copy; 2026 FoodFrenzy. Crafted with
          <span style="color: var(--primary)">‚ù§Ô∏è</span> for foodies.
        </p>
      </div>
    </footer>
  </body>
</html>
